/* empty css            *//* empty css                 *//* empty css                     *//* empty css               *//* empty css                     */import{i as c}from"./index-DQYQA18e.js";import{_ as g,c as _,b as r,q as C,d as e,s as i,D as x,p as R,I as z,N as D,o as f,J as E,k as h,O as M,A as T,B as A,P as W,t as k}from"./index-DuqoxwSR.js";const L={name_water:"waterDrawer",data(){return{showDrawer_water:!1,drawerWidth:window.innerWidth*.8,isResizing:!1,startX:0,startWidth:0,activeTab:"info",timeRange:"month",waterData:[{name:"东海",location:"东经122°, 北纬30°",area:"1200",fishTypes:"带鱼, 黄鱼, 鲳鱼",status:"正常"},{name:"南海",location:"东经115°, 北纬18°",area:"2500",fishTypes:"金枪鱼, 马鲛鱼",status:"正常"},{name:"渤海",location:"东经120°, 北纬39°",area:"800",fishTypes:"对虾, 梭子蟹",status:"维护中"},{name:"黄海",location:"东经124°, 北纬35°",area:"1500",fishTypes:"鲅鱼, 鲐鱼",status:"正常"}],waterStats:[{fishery:"东海",total:"1250",avg:"104.2",max:"180",min:"75"},{fishery:"南海",total:"980",avg:"81.7",max:"150",min:"60"},{fishery:"渤海",total:"720",avg:"60",max:"90",min:"45"},{fishery:"黄海",total:"1100",avg:"91.7",max:"160",min:"70"}],catchChart_water:null,trendChart_water:null}},mounted(){this.initCharts(),window.addEventListener("resize",this.handleResize)},beforeDestroy(){this.catchChart_water&&this.catchChart_water.dispose(),this.trendChart_water&&this.trendChart_water.dispose(),window.removeEventListener("resize",this.handleResize),document.removeEventListener("mousemove",this.handleResize),document.removeEventListener("mouseup",this.stopResize)},methods:{startResize(s){this.isResizing=!0,this.startX=s.clientX,this.startWidth=this.drawerWidth,document.addEventListener("mousemove",this.handleResizeMove),document.addEventListener("mouseup",this.stopResize),s.preventDefault()},handleResizeMove(s){if(!this.isResizing)return;const t=s.clientX-this.startX,l=this.startWidth+t;this.drawerWidth=Math.max(300,Math.min(window.innerWidth-50,l))},stopResize(){this.isResizing=!1,document.removeEventListener("mousemove",this.handleResizeMove),document.removeEventListener("mouseup",this.stopResize)},initCharts(){this.catchChart_water=c(this.$refs.catchChart_water),this.trendChart_water=c(this.$refs.trendChart_water),this.updateCharts()},updateCharts(){let s,t;const l=this.waterData.map(d=>d.name);this.timeRange==="day"?(s=["00:00","04:00","08:00","12:00","16:00","20:00"],t=[[120,132,101,134,90,230],[220,182,191,234,290,330],[150,232,201,154,190,330],[320,332,301,334,390,330]]):this.timeRange==="week"?(s=["周一","周二","周三","周四","周五","周六","周日"],t=[[120,132,101,134,90,230,210],[220,182,191,234,290,330,310],[150,232,201,154,190,330,410],[320,332,301,334,390,330,320]]):this.timeRange==="month"?(s=Array.from({length:30},(d,a)=>`${a+1}日`),t=[Array.from({length:30},()=>Math.floor(Math.random()*200)+50),Array.from({length:30},()=>Math.floor(Math.random()*200)+50),Array.from({length:30},()=>Math.floor(Math.random()*200)+50),Array.from({length:30},()=>Math.floor(Math.random()*200)+50)]):(s=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],t=[[120,132,101,134,90,230,210,180,190,210,220,200],[220,182,191,234,290,330,310,280,290,310,320,300],[150,232,201,154,190,330,410,380,390,410,420,400],[320,332,301,334,390,330,320,380,390,410,420,400]]),this.catchChart_water.setOption({title:{text:"各渔场水质对比",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:l,top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:s},yAxis:{type:"value",name:"捕鱼量(吨)"},series:l.map((d,a)=>({name:d,type:"bar",data:t[a]}))}),this.trendChart_water.setOption({title:{text:"捕鱼量趋势",left:"center"},tooltip:{trigger:"axis"},legend:{data:l,top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:s},yAxis:{type:"value",name:"捕鱼量(吨)"},series:l.map((d,a)=>({name:d,type:"line",data:t[a],smooth:!0}))})},handleResize(){this.catchChart_water&&this.catchChart_water.resize(),this.trendChart_water&&this.trendChart_water.resize()}},watch:{showDrawer_water(s){s?document.body.style.overflow="hidden":document.body.style.overflow=""}}},V={class:"app-container"},X={class:"drawer-header"},B={class:"drawer-content",ref:"content"},N={class:"fishery-info"},P={class:"time-filter"},S={class:"chart-container"},O={class:"chart-item"},G={ref:"catchChart_water",style:{width:"100vh",height:"300px"}},I={class:"chart-item"},U={ref:"trendChart_water",style:{width:"100vh",height:"300px"}};function q(s,t,l,d,a,p){const m=E,v=z,n=A,y=W,u=T,w=M,b=D;return f(),_("div",V,[r("button",{class:"open-btn",onClick:t[0]||(t[0]=o=>a.showDrawer_water=!0)},"打开水质信息"),a.showDrawer_water?(f(),_("div",{key:0,class:"drawer-mask",onClick:t[1]||(t[1]=o=>a.showDrawer_water=!1)})):C("",!0),r("div",{class:R(["drawer",{"drawer-open":a.showDrawer_water}]),style:x({width:a.drawerWidth+"px",transform:`translateX(${a.showDrawer_water?0:-a.drawerWidth}px)`})},[r("div",X,[t[6]||(t[6]=r("h4",null,"水质评估和数据统计中心",-1)),r("button",{class:"close-btn",onClick:t[2]||(t[2]=o=>a.showDrawer_water=!1)},"×")]),r("div",B,[r("div",N,[r("div",P,[e(v,{modelValue:a.timeRange,"onUpdate:modelValue":t[3]||(t[3]=o=>a.timeRange=o),onChange:p.updateCharts},{default:i(()=>[e(m,{label:"day"},{default:i(()=>t[7]||(t[7]=[h("日")])),_:1}),e(m,{label:"week"},{default:i(()=>t[8]||(t[8]=[h("周")])),_:1}),e(m,{label:"month"},{default:i(()=>t[9]||(t[9]=[h("月")])),_:1}),e(m,{label:"year"},{default:i(()=>t[10]||(t[10]=[h("年")])),_:1})]),_:1},8,["modelValue","onChange"])]),e(b,{modelValue:a.activeTab,"onUpdate:modelValue":t[4]||(t[4]=o=>a.activeTab=o),type:"card"},{default:i(()=>[e(w,{label:"水质信息",name:"info"},{default:i(()=>[e(u,{data:a.waterData,border:"",style:{width:"100%"}},{default:i(()=>[e(n,{prop:"name",label:"水质状态",width:"180"}),e(n,{prop:"location",label:"位置"}),e(n,{prop:"area",label:"面积(平方公里)"}),e(n,{prop:"fishTypes",label:"主要鱼种"}),e(n,{prop:"status",label:"状态"},{default:i(({row:o})=>[e(y,{type:o.status==="正常"?"success":"danger"},{default:i(()=>[h(k(o.status),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1}),e(w,{label:"捕鱼量统计",name:"stats"},{default:i(()=>[e(u,{data:a.waterStats,border:"",style:{width:"100%"}},{default:i(()=>[e(n,{prop:"fishery",label:"水质状态"}),e(n,{prop:"total",label:"A指数"}),e(n,{prop:"avg",label:"B指数"}),e(n,{prop:"max",label:"C指数"}),e(n,{prop:"min",label:"D指数"})]),_:1},8,["data"])]),_:1}),e(w,{label:"统计图表",name:"charts"},{default:i(()=>[r("div",S,[r("div",O,[r("div",G,null,512)]),r("div",I,[r("div",U,null,512)])])]),_:1})]),_:1},8,["modelValue"])])],512),r("div",{class:"drawer-resize",onMousedown:t[5]||(t[5]=(...o)=>p.startResize&&p.startResize(...o))},null,32)],6)])}const Z=g(L,[["render",q],["__scopeId","data-v-f0ac0c7c"]]);export{Z as default};

/* empty css            *//* empty css              *//* empty css                     *//* empty css               *//* empty css               *//* empty css              *//* empty css             */import{i as g}from"./index-DQYQA18e.js";import{_ as w,c as p,b as a,d as e,s as i,E as Q,o as s,u as x,x as E,F as b,j as f,y as v,z as C,A as I,B as V,C as k}from"./index-DuqoxwSR.js";const D={data(){return{employees:[{employeeId:"1001",name:"张三",gender:"男",age:32,department:"技术部",position:"高级工程师",joinDate:"2018-05-10",phone:"13800138001",email:"zhangsan@company.com",address:"北京市海淀区",performance:[89,92,95,88,90,93]},{employeeId:"1002",name:"李四",gender:"女",age:28,department:"市场部",position:"市场经理",joinDate:"2019-03-15",phone:"13800138002",email:"lisi@company.com",address:"北京市朝阳区",performance:[85,88,90,87,89,91]},{employeeId:"1003",name:"王五",gender:"男",age:35,department:"人事部",position:"人事总监",joinDate:"2017-08-20",phone:"13800138003",email:"wangwu@company.com",address:"北京市西城区",performance:[90,92,94,91,93,95]},{employeeId:"1004",name:"赵六",gender:"女",age:26,department:"财务部",position:"会计",joinDate:"2020-02-10",phone:"13800138004",email:"zhaoliu@company.com",address:"北京市东城区",performance:[88,85,87,89,86,90]},{employeeId:"1005",name:"钱七",gender:"男",age:30,department:"技术部",position:"前端工程师",joinDate:"2019-11-05",phone:"13800138005",email:"qianqi@company.com",address:"北京市海淀区",performance:[92,94,96,93,95,97]}],searchQuery:{name:"",employeeId:"",age:"",position:"",department:""},positionOptions:[{value:"高级工程师",label:"高级工程师"},{value:"市场经理",label:"市场经理"},{value:"人事总监",label:"人事总监"},{value:"会计",label:"会计"},{value:"前端工程师",label:"前端工程师"}],departmentOptions:[{value:"技术部",label:"技术部"},{value:"市场部",label:"市场部"},{value:"人事部",label:"人事部"},{value:"财务部",label:"财务部"}],selectedEmployee:null,orgChart:null,performanceChart:null}},computed:{filteredEmployees(){return this.employees.filter(n=>(this.searchQuery.name===""||n.name.includes(this.searchQuery.name))&&(this.searchQuery.employeeId===""||n.employeeId.includes(this.searchQuery.employeeId))&&(this.searchQuery.age===""||n.age.toString().includes(this.searchQuery.age))&&(this.searchQuery.position===""||n.position===this.searchQuery.position)&&(this.searchQuery.department===""||n.department===this.searchQuery.department))}},mounted(){this.initOrgChart(),this.employees.length>0&&(this.selectedEmployee=this.employees[0],this.$nextTick(()=>{this.initPerformanceChart()}))},beforeDestroy(){this.orgChart&&this.orgChart.dispose(),this.performanceChart&&this.performanceChart.dispose()},methods:{initOrgChart(){this.orgChart=g(document.getElementById("org-chart"));const n={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[{name:"公司组织架构",children:[{name:"技术部",children:[{name:`张三
高级工程师`},{name:`钱七
前端工程师`}]},{name:"市场部",children:[{name:`李四
市场经理`}]},{name:"人事部",children:[{name:`王五
人事总监`}]},{name:"财务部",children:[{name:`赵六
会计`}]}]}],symbol:"roundRect",symbolSize:[100,30],orient:"vertical",expandAndCollapse:!0,initialTreeDepth:3,label:{position:"inside",rotate:0,verticalAlign:"middle",align:"center",fontSize:12},leaves:{label:{position:"inside",rotate:0,verticalAlign:"middle",align:"center"}},emphasis:{focus:"descendant"},animationDuration:550,animationDurationUpdate:750}]};this.orgChart.setOption(n)},initPerformanceChart(){if(!this.selectedEmployee)return;this.performanceChart=g(document.getElementById("performance-chart"));const n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:["2023-Q1","2023-Q2","2023-Q3","2023-Q4","2024-Q1","2024-Q2"],axisLabel:{rotate:45}},yAxis:{type:"value",min:80,max:100},series:[{name:"绩效评分",type:"bar",data:this.selectedEmployee.performance,itemStyle:{color:"#409EFF"},label:{show:!0,position:"top"}}]};this.performanceChart.setOption(n)},handleEmployeeClick(n){this.selectedEmployee=n,this.$nextTick(()=>{this.initPerformanceChart()})}}},O={class:"employee-container"},j={class:"left-section"},B={slot:"header",class:"card-header"},A={class:"search-container"},U={class:"right-section"},z={key:0,class:"employee-detail"},S={class:"detail-section py-4"},T={class:"detail-section py-2"},F={key:1,class:"empty-state"};function P(n,t,L,R,r,h){const d=Q,m=x,u=C,y=E,o=V,c=I,_=k;return s(),p("div",O,[a("div",j,[e(d,{class:"card"},{default:i(()=>t[5]||(t[5]=[a("div",{slot:"header",class:"card-header"},[a("span",null,"所有员工架构结构")],-1),a("div",{class:"chart-container"},[a("div",{id:"org-chart",style:{width:"100%",height:"400px"}})],-1)])),_:1}),e(d,{class:"card"},{default:i(()=>[a("div",B,[a("div",A,[e(m,{modelValue:r.searchQuery.name,"onUpdate:modelValue":t[0]||(t[0]=l=>r.searchQuery.name=l),placeholder:"按姓名搜索",style:{width:"150px","margin-right":"10px"},clearable:""},null,8,["modelValue"]),e(m,{modelValue:r.searchQuery.employeeId,"onUpdate:modelValue":t[1]||(t[1]=l=>r.searchQuery.employeeId=l),placeholder:"按员工号搜索",style:{width:"150px","margin-right":"10px"},clearable:""},null,8,["modelValue"]),e(m,{modelValue:r.searchQuery.age,"onUpdate:modelValue":t[2]||(t[2]=l=>r.searchQuery.age=l),placeholder:"按年龄搜索",style:{width:"120px","margin-right":"10px"},clearable:""},null,8,["modelValue"]),e(y,{modelValue:r.searchQuery.position,"onUpdate:modelValue":t[3]||(t[3]=l=>r.searchQuery.position=l),placeholder:"按职位筛选",style:{width:"150px","margin-right":"10px"},clearable:""},{default:i(()=>[(s(!0),p(b,null,f(r.positionOptions,l=>(s(),v(u,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(y,{modelValue:r.searchQuery.department,"onUpdate:modelValue":t[4]||(t[4]=l=>r.searchQuery.department=l),placeholder:"按部门筛选",style:{width:"150px"},clearable:""},{default:i(()=>[(s(!0),p(b,null,f(r.departmentOptions,l=>(s(),v(u,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),e(c,{data:h.filteredEmployees,style:{width:"100%"},height:"400",onRowClick:h.handleEmployeeClick},{default:i(()=>[e(o,{prop:"employeeId",label:"员工号",width:"100"}),e(o,{prop:"name",label:"姓名",width:"120"}),e(o,{prop:"gender",label:"性别",width:"80"}),e(o,{prop:"age",label:"年龄",width:"80"}),e(o,{prop:"department",label:"部门",width:"120"}),e(o,{prop:"position",label:"职位"})]),_:1},8,["data","onRowClick"])]),_:1})]),a("div",U,[e(d,{class:"card-right"},{default:i(()=>[t[9]||(t[9]=a("div",{slot:"header",class:"card-header"},[a("span",null,"员工档案详情")],-1)),r.selectedEmployee?(s(),p("div",z,[a("div",S,[t[6]||(t[6]=a("h5",null,"基本信息",-1)),e(c,{data:[r.selectedEmployee],border:"",style:{width:"100%"}},{default:i(()=>[e(o,{prop:"name",label:"姓名",width:"120"}),e(o,{prop:"employeeId",label:"员工号",width:"120"}),e(o,{prop:"gender",label:"性别",width:"80"}),e(o,{prop:"age",label:"年龄",width:"80"}),e(o,{prop:"department",label:"部门"}),e(o,{prop:"position",label:"职位"})]),_:1},8,["data"])]),a("div",T,[t[7]||(t[7]=a("h5",null,"详细信息",-1)),e(c,{data:[r.selectedEmployee],border:"",style:{width:"100%"}},{default:i(()=>[e(o,{prop:"joinDate",label:"入职日期",width:"120"}),e(o,{prop:"phone",label:"联系电话",width:"150"}),e(o,{prop:"email",label:"邮箱"}),e(o,{prop:"address",label:"住址"})]),_:1},8,["data"])]),t[8]||(t[8]=a("div",{class:"detail-section py-2"},[a("h5",null,"绩效表现"),a("div",{id:"performance-chart",style:{width:"100%",height:"250px"}})],-1))])):(s(),p("div",F,[e(_,{description:"请点击左侧表格中的员工查看详情"})]))]),_:1})])])}const Y=w(D,[["render",P],["__scopeId","data-v-e177ba95"]]);export{Y as default};

/* empty css            *//* empty css                *//* empty css                     *//* empty css               *//* empty css                     *//* empty css               */import{L as g,i as w}from"./index-DQYQA18e.js";import{_ as c,c as D,b as a,d as t,s as l,G as C,o as T,H as x,k as d,I as S,J as _,A as v,B as R}from"./index-DuqoxwSR.js";const k={data(){return{leftDrawer:!1,rightDrawer:!1,leftDrawerSize:"80%",rightDrawerSize:"85%",fisheryTimeRange:"month",waterTimeRange:"month",fisheryTableData:[{name:"东海渔场",location:"东经120°, 北纬30°",area:1200,fishType:"带鱼, 黄鱼",yield:4500},{name:"南海渔场",location:"东经115°, 北纬20°",area:1800,fishType:"金枪鱼, 马鲛鱼",yield:6800},{name:"渤海渔场",location:"东经118°, 北纬38°",area:800,fishType:"对虾, 螃蟹",yield:3200},{name:"黄海渔场",location:"东经122°, 北纬35°",area:1500,fishType:"鲅鱼, 鲳鱼",yield:5200},{name:"舟山渔场",location:"东经122°, 北纬30°",area:2e3,fishType:"带鱼, 乌贼",yield:7500}],fisheryStatsTableData:[],waterQualityTableData:[{location:"东海监测点1",ph:7.8,oxygen:6.5,nitrogen:.8,phosphorus:.05,score:85},{location:"南海监测点2",ph:8.1,oxygen:7.2,nitrogen:.6,phosphorus:.03,score:92},{location:"渤海监测点3",ph:7.5,oxygen:5.8,nitrogen:1.2,phosphorus:.08,score:78},{location:"黄海监测点4",ph:7.9,oxygen:6.8,nitrogen:.9,phosphorus:.06,score:83},{location:"舟山监测点5",ph:8,oxygen:7,nitrogen:.7,phosphorus:.04,score:88}],waterStatsTableData:[],fisheryChart:null,waterChart:null}},mounted(){this.generateFisheryStatsData(),this.generateWaterStatsData()},methods:{openLeftDrawer(){this.leftDrawer=!0,this.$nextTick(()=>{this.initFisheryChart()})},openRightDrawer(){this.rightDrawer=!0,this.$nextTick(()=>{this.initWaterChart()})},closeLeftDrawer(){this.leftDrawer=!1},closeRightDrawer(){this.rightDrawer=!1},handleLeftClose(s){s()},handleRightClose(s){s()},generateFisheryStatsData(){const s=[],e=new Date;for(let p=0;p<12;p++){const m=new Date(e.getFullYear(),e.getMonth()-p,1),o=m.getMonth()+1,i=m.getFullYear(),n=Math.floor(Math.random()*5e3)+3e3;s.push({date:`${i}-${o<10?"0"+o:o}`,totalYield:n,avgYield:Math.floor(n/30),maxYield:Math.floor(n*1.2),minYield:Math.floor(n*.8)})}this.fisheryStatsTableData=s.reverse()},generateWaterStatsData(){const s=[],e=new Date;for(let p=0;p<12;p++){const m=new Date(e.getFullYear(),e.getMonth()-p,1),o=m.getMonth()+1,i=m.getFullYear(),n=Math.floor(Math.random()*20)+75;s.push({date:`${i}-${o<10?"0"+o:o}`,avgScore:n,maxScore:Math.floor(n*1.1),minScore:Math.floor(n*.9),goodDays:Math.floor(Math.random()*20)+10})}this.waterStatsTableData=s.reverse()},initFisheryChart(){this.fisheryChart&&this.fisheryChart.dispose(),this.fisheryChart=w(this.$refs.fisheryChart),this.updateFisheryCharts()},initWaterChart(){this.waterChart&&this.waterChart.dispose(),this.waterChart=w(this.$refs.waterChart),this.updateWaterCharts()},updateFisheryCharts(){const s={title:{text:"渔场捕鱼量统计 ("+this.getTimeRangeText(this.fisheryTimeRange)+")",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["总产量","平均产量"],top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:this.fisheryStatsTableData.map(e=>e.date)},yAxis:{type:"value",name:"产量(吨)"},series:[{name:"总产量",type:"bar",data:this.fisheryStatsTableData.map(e=>e.totalYield),itemStyle:{color:"#5470C6"}},{name:"平均产量",type:"line",data:this.fisheryStatsTableData.map(e=>e.avgYield),itemStyle:{color:"#91CC75"}}]};this.fisheryChart.setOption(s)},updateWaterCharts(){const s={title:{text:"水质评分统计 ("+this.getTimeRangeText(this.waterTimeRange)+")",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["平均评分","最高评分","最低评分"],top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:this.waterStatsTableData.map(e=>e.date)},yAxis:{type:"value",name:"评分",min:50,max:100},series:[{name:"平均评分",type:"line",stack:"Total",areaStyle:{color:new g(0,0,0,1,[{offset:0,color:"rgba(58, 77, 233, 0.8)"},{offset:1,color:"rgba(58, 77, 233, 0.1)"}])},emphasis:{focus:"series"},data:this.waterStatsTableData.map(e=>e.avgScore)},{name:"最高评分",type:"line",stack:"Total",areaStyle:{color:new g(0,0,0,1,[{offset:0,color:"rgba(255, 191, 0, 0.8)"},{offset:1,color:"rgba(255, 191, 0, 0.1)"}])},emphasis:{focus:"series"},data:this.waterStatsTableData.map(e=>e.maxScore)},{name:"最低评分",type:"line",stack:"Total",areaStyle:{color:new g(0,0,0,1,[{offset:0,color:"rgba(255, 80, 80, 0.8)"},{offset:1,color:"rgba(255, 80, 80, 0.1)"}])},emphasis:{focus:"series"},data:this.waterStatsTableData.map(e=>e.minScore)}]};this.waterChart.setOption(s)},getTimeRangeText(s){return{day:"日",week:"周",month:"月",year:"年"}[s]||""}},beforeDestroy(){this.fisheryChart&&this.fisheryChart.dispose(),this.waterChart&&this.waterChart.dispose()}},M={class:"app-container"},V={class:"button-group"},Y={class:"drawer-content"},L={class:"drawer-header"},F={class:"time-selector"},z={class:"content-section"},E={class:"content-section"},W={class:"content-section"},B={ref:"fisheryChart",style:{width:"100%",height:"400px"}},A={class:"drawer-content"},G={class:"drawer-header"},P={class:"time-selector"},U={class:"content-section"},N={class:"content-section"},H={class:"content-section"},I={ref:"waterChart",style:{width:"100%",height:"400px"}};function O(s,e,p,m,o,i){const n=x,f=_,y=S,r=R,u=v,b=C;return T(),D("div",M,[a("div",V,[a("button",{onClick:e[0]||(e[0]=(...h)=>i.openLeftDrawer&&i.openLeftDrawer(...h)),class:"action-button"},"渔场信息"),a("button",{onClick:e[1]||(e[1]=(...h)=>i.openRightDrawer&&i.openRightDrawer(...h)),class:"action-button"},"水质信息")]),t(b,{modelValue:o.leftDrawer,"onUpdate:modelValue":e[3]||(e[3]=h=>o.leftDrawer=h),title:"渔场详细信息",direction:"ltr",size:o.leftDrawerSize,"before-close":i.handleLeftClose,"custom-class":"custom-drawer",wrapperClosable:!1,"destroy-on-close":""},{default:l(()=>[a("div",Y,[a("div",L,[e[7]||(e[7]=a("h2",null,"渔场数据分析",-1)),t(n,{onClick:i.closeLeftDrawer,type:"primary",size:"small"},{default:l(()=>e[6]||(e[6]=[d("返回主页")])),_:1},8,["onClick"])]),a("div",F,[t(y,{modelValue:o.fisheryTimeRange,"onUpdate:modelValue":e[2]||(e[2]=h=>o.fisheryTimeRange=h),onChange:i.updateFisheryCharts},{default:l(()=>[t(f,{label:"day"},{default:l(()=>e[8]||(e[8]=[d("日")])),_:1}),t(f,{label:"week"},{default:l(()=>e[9]||(e[9]=[d("周")])),_:1}),t(f,{label:"month"},{default:l(()=>e[10]||(e[10]=[d("月")])),_:1}),t(f,{label:"year"},{default:l(()=>e[11]||(e[11]=[d("年")])),_:1})]),_:1},8,["modelValue","onChange"])]),a("div",z,[e[12]||(e[12]=a("h3",null,"渔场详细信息表",-1)),t(u,{data:o.fisheryTableData,border:"",style:{width:"100%"},height:"250"},{default:l(()=>[t(r,{prop:"name",label:"渔场名称",width:"180"}),t(r,{prop:"location",label:"位置",width:"180"}),t(r,{prop:"area",label:"面积(公顷)"}),t(r,{prop:"fishType",label:"主要鱼种"}),t(r,{prop:"yield",label:"产量(吨)"})]),_:1},8,["data"])]),a("div",E,[e[13]||(e[13]=a("h3",null,"捕鱼量统计表",-1)),t(u,{data:o.fisheryStatsTableData,border:"",style:{width:"100%"},height:"250"},{default:l(()=>[t(r,{prop:"date",label:"日期",width:"180"}),t(r,{prop:"totalYield",label:"总产量(吨)"}),t(r,{prop:"avgYield",label:"平均产量(吨)"}),t(r,{prop:"maxYield",label:"最高产量(吨)"}),t(r,{prop:"minYield",label:"最低产量(吨)"})]),_:1},8,["data"])]),a("div",W,[e[14]||(e[14]=a("h3",null,"捕鱼量统计图",-1)),a("div",B,null,512)])])]),_:1},8,["modelValue","size","before-close"]),t(b,{modelValue:o.rightDrawer,"onUpdate:modelValue":e[5]||(e[5]=h=>o.rightDrawer=h),title:"水质质量信息",direction:"rtl",size:o.rightDrawerSize,"before-close":i.handleRightClose,"custom-class":"custom-drawer",wrapperClosable:!1,"destroy-on-close":""},{default:l(()=>[a("div",A,[a("div",G,[e[16]||(e[16]=a("h2",null,"水质数据分析",-1)),t(n,{onClick:i.closeRightDrawer,type:"primary",size:"small"},{default:l(()=>e[15]||(e[15]=[d("返回主页")])),_:1},8,["onClick"])]),a("div",P,[t(y,{modelValue:o.waterTimeRange,"onUpdate:modelValue":e[4]||(e[4]=h=>o.waterTimeRange=h),onChange:i.updateWaterCharts},{default:l(()=>[t(f,{label:"day"},{default:l(()=>e[17]||(e[17]=[d("日")])),_:1}),t(f,{label:"week"},{default:l(()=>e[18]||(e[18]=[d("周")])),_:1}),t(f,{label:"month"},{default:l(()=>e[19]||(e[19]=[d("月")])),_:1}),t(f,{label:"year"},{default:l(()=>e[20]||(e[20]=[d("年")])),_:1})]),_:1},8,["modelValue","onChange"])]),a("div",U,[e[21]||(e[21]=a("h3",null,"水质质量分数表",-1)),t(u,{data:o.waterQualityTableData,border:"",style:{width:"100%"},height:"250"},{default:l(()=>[t(r,{prop:"location",label:"监测点",width:"180"}),t(r,{prop:"ph",label:"PH值"}),t(r,{prop:"oxygen",label:"溶解氧(mg/L)"}),t(r,{prop:"nitrogen",label:"总氮(mg/L)"}),t(r,{prop:"phosphorus",label:"总磷(mg/L)"}),t(r,{prop:"score",label:"水质评分"})]),_:1},8,["data"])]),a("div",N,[e[22]||(e[22]=a("h3",null,"水质统计表",-1)),t(u,{data:o.waterStatsTableData,border:"",style:{width:"100%"},height:"250"},{default:l(()=>[t(r,{prop:"date",label:"日期",width:"180"}),t(r,{prop:"avgScore",label:"平均评分"}),t(r,{prop:"maxScore",label:"最高评分"}),t(r,{prop:"minScore",label:"最低评分"}),t(r,{prop:"goodDays",label:"优良天数"})]),_:1},8,["data"])]),a("div",H,[e[23]||(e[23]=a("h3",null,"水质统计图",-1)),a("div",I,null,512)])])]),_:1},8,["modelValue","size","before-close"])])}const ee=c(k,[["render",O],["__scopeId","data-v-ef3f4fdd"]]);export{ee as default};
